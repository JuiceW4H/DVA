## AppSync

* A managed service that uses GraphQL.
* Realtime Web Socket integration.
* Allows for local data access and synchronization.
* A serverless GraphQL and Pub/Sub API service that simplifies building modern web and mobile applications.
* Provides a robust, scalable GraphQL interface for application developers to combine data from multiple sources, including Amazon DynamoDB, AWS Lambda, and HTTP APIs.

GraphQL
	\- makes it easy for applications to get exactly the data they need.
	\- combines data from one or more sources.

## AWS Serverless Application Model (SAM)

* Framework for developing and deploying serverless applications.
* Configured in YAML format.
* Supports anything from CloudFormation.
* SAM is made of Recipes.

Transform Header
	\-indicates that a template is a SAM template.

sam build
	\- for building the application locally by combining the template.yml and application code (deployment artifacts).
	\- resolving any dependencies the application might have.

sam package
	\- package the application to zip file and upload to S3 bucket.

sam deploy
	\- CLI command to package and deploy with SAM.

sam sync
	\- synchronize code and infrastructure.

sam sync --code
	\- synchronize code changes with updating infrastructure.

sam sync --code --resource <Resource/>

sam sync --code --resource-id <Resource ID/>

sam sync --watch
	\- monitor for file changes and synchronize when detected.

SAM Accelerate
	\- a set of features used to reduce latency while deploying resources to AWS.

CodeUri Parameter
	\-  accepts the S3 URL of your code and not the actual code itself.

Handler Parameter
	\- used to specify the name of the handler, which is just a function in your code that AWS Lambda can invoke when the service executes your code.

## AWS Cognito Sync

* An AWS service and client library that enables cross-device syncing of application-related user data
* You can use it to synchronize user profile data across mobile devices and the web without requiring your own backend.
* The client libraries cache data locally so your app can read and write data regardless of device connectivity status.

## AWS Config

![Security, Deployment, and Operations-08-07-2024-6](images/Security,%20Deployment,%20and%20Operations-08-07-2024-6.png)

* Primary function is to record changes over time on resources within an AWS Account.
* Every time a resource configuration changes, a configuration item is created which stores the configuration of that resource at a specific point in time.
* Information stored is the configuration of the resource, relationship to other resources and who makes any changes.
* Regional services and also supports Cross-Region and Cross Account Aggregation.
* Changes can generate SNS notifications and near-realtime events via EventBridge & Lambda.
* You cannot store Certificates here.

**Use Case**

* Auditing changes
* Compliance with standards

Config Rules
	\- allow you to evaluate the configuration of your AWS resources.
	\- either AWS Managed or Custom Rules (using Lambda).

## Kinesis Client Library

* Ensures that for every shard there is a record processor running and processing that shard.
* It also tracks the shards in the stream using an Amazon DynamoDB table.
* When new shards are created as a result of resharding, the KCL discovers the new shards and populates new rows in the table.
* The KCL also distributes the shards in the stream across all the available workers and record processors.

## Kinesis Adapter
 
* Allows you to leverage the design patterns found within the KCL to process DynamoDB Streams shards and stream records.
* Implements the Kinesis Streams interface, so that the KCL can be used for consuming and processing records from DynamoDB Streams.

## Lambda Authorizer

* An API Gateway feature that uses a Lambda function to control access to your API.

**2 Types of Lambda Authorizers**

1. Token-based Lambda Authorizer (TOKEN authorizer)
	\- receives the caller’s identity in a bearer token, such as a JSON Web Token (JWT) or an OAuth token.

2. Request Parameter-based Lambda Authorizer (REQUEST authorizer)
	\- receives the caller’s identity in a combination of headers, query string parameters, stageVariables, and $context variables.

## AWS CLI

* By default, the AWS CLI uses a page size of 1000 and retrieves all available items.

--page-size
	\- to specify that the AWS CLI request a smaller number of items from each call to the AWS service.

--max-items
	\- prints out only the number of items at a time that you specify.

* If the number of items output is fewer than the total number of items returned by the underlying API calls, the output includes a NextToken that you can pass to a subsequent command to retrieve the next set of items.

-size-only
	\- accepts a boolean value and is typically used along with “s3 sync” command.
	\- makes the size of each key the only criteria to use to decide whether to sync from source to destination.

-exclude
	\- simply makes Amazon S3 exclude all files or objects that match a specified pattern from the result of the command.

-summary
	\- displays the summary information (number of objects, total size) of objects returned from an “s3 ls” command.

## Database Locking Strategies

* Databases employ locking mechanisms to ensure that data is always updated to the latest version and is concurrent.

**Types of Locking Mechanisms**

1. Optimistic Locking
	\-  a strategy to ensure that the client-side item that you are updating (or deleting) is the same as the item in DynamoDB.
	\- each item has an attribute that acts as a version number.

* @DynamoDBVersionAttribute can be used to implement Optimistic Locking for applications that are using AWS SDK for Java.

DynamoDBMapper
	\- assigns a version number when you first save the object, and it automatically increments the version number each time you update the item.
	\- update or delete requests will succeed only if the client-side object version matches the corresponding version number of the item in the DynamoDB table.

2. Pessimistic Locking
	\- an approach where an entity is locked in the database for the entire time that it is in application memory (often in the form of an object).
	\- can prevent certain users from reading, updating, or deleting an entry depending on the lock type.
	\- actively prevents others from changing the data while you’re working on it. It’s like putting a “do not touch” sign on the data.

3. Overly Optimistic Locking
	\- used for systems that have only one user or operation performing changes at a single time.
	\- changes are saved without verifying if the data has been modified since it was read.